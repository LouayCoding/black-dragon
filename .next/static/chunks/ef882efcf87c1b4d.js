(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55477,e=>{"use strict";var t=e.i(95224);e.i(10255);var s=t.createContext(void 0);function a(e){let a=t.useContext(s);return e||a||"ltr"}e.s(["useDirection",()=>a])},23910,e=>{"use strict";var t=e.i(95224),s=e.i(75135),a=t[" useId ".trim().toString()]||(()=>void 0),r=0;function n(e){let[n,l]=t.useState(a());return(0,s.useLayoutEffect)(()=>{e||l(e=>e??String(r++))},[e]),e||(n?`radix-${n}`:"")}e.s(["useId",()=>n])},71670,e=>{"use strict";let t=(0,e.i(97663).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],71670)},59387,e=>{"use strict";let t=(0,e.i(97663).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],59387)},53425,e=>{"use strict";var t=e.i(10255),s=e.i(95224),a=e.i(51989),r=e.i(97663);let n=(0,r.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),l=(0,r.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var d=e.i(13229),i=e.i(20170),c=e.i(48025);function o(){let[e,r]=(0,s.useState)([]),[o,u]=(0,s.useState)(!0),[m,x]=(0,s.useState)("all"),{toast:g}=(0,i.useToast)();async function h(){try{let e=d.supabase.from("attendance").select("*, student:students(*)").neq("status","present").order("attendance_date",{ascending:!1});if("sick"===m)e=e.eq("status","absent-sick");else if("recent"===m){let t=new Date;t.setDate(t.getDate()-7),e=e.gte("attendance_date",t.toISOString().split("T")[0])}let{data:t,error:s}=await e;if(s)throw s;r(t||[])}catch(e){console.error("Error loading absences:",e),g({title:"Fout",description:"Kon ziekmeldingen niet laden",variant:"destructive"})}finally{u(!1)}}return((0,s.useEffect)(()=>{h()},[m]),o)?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,t.jsxs)("div",{className:"space-y-6 w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Ziekmeldingen"}),(0,t.jsxs)("p",{className:"text-foreground/60 mt-2",children:[e.length," afwezigheden geregistreerd"]})]}),(0,t.jsxs)(c.Select,{value:m,onValueChange:x,children:[(0,t.jsx)(c.SelectTrigger,{className:"w-48",children:(0,t.jsx)(c.SelectValue,{})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"all",children:"Alle afwezigheden"}),(0,t.jsx)(c.SelectItem,{value:"sick",children:"Alleen ziek"}),(0,t.jsx)(c.SelectItem,{value:"recent",children:"Laatste 7 dagen"})]})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:0===e.length?(0,t.jsx)("div",{className:"bg-background rounded-xl border border-border p-12 text-center",children:(0,t.jsx)("p",{className:"text-foreground/60",children:"Geen afwezigheden gevonden"})}):e.map(e=>{var s;return(0,t.jsx)("div",{className:"bg-background rounded-xl border border-border p-6 hover:shadow-md transition-shadow",children:(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n,{className:"w-5 h-5 text-primary"}),(0,t.jsx)("span",{className:"font-bold text-lg",children:e.student?.name||"Onbekend"})]}),(0,t.jsx)("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${{"absent-sick":"bg-red-100 text-red-800","absent-vacation":"bg-blue-100 text-blue-800","absent-unauthorized":"bg-orange-100 text-orange-800","absent-other":"bg-gray-100 text-gray-800"}[e.status]||"bg-gray-100 text-gray-800"}`,children:{"absent-sick":"Ziek","absent-vacation":"Vakantie","absent-unauthorized":"Ongeoorloofd","absent-other":"Anders"}[s=e.status]||s})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-foreground/70",children:[(0,t.jsx)(a.Calendar,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:new Date(e.attendance_date).toLocaleDateString("nl-NL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.student&&(0,t.jsxs)("div",{className:"text-foreground/70",children:[(0,t.jsx)("span",{className:"font-medium",children:"Programma:"})," ","little-tigers"===e.student.program&&"Kleine Tijgers","youth"===e.student.program&&"Jeugd","women"===e.student.program&&"Vrouwen","adult"===e.student.program&&"Volwassenen"]})]}),e.notes&&(0,t.jsx)("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(l,{className:"w-4 h-4 text-foreground/60 mt-0.5"}),(0,t.jsx)("p",{className:"text-sm text-foreground/70",children:e.notes})]})})]})})},e.id)})})]})}e.s(["default",()=>o],53425)}]);