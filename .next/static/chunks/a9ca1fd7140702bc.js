(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,51989,e=>{"use strict";let t=(0,e.i(97663).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],51989)},55477,e=>{"use strict";var t=e.i(95224);e.i(10255);var r=t.createContext(void 0);function s(e){let s=t.useContext(r);return e||s||"ltr"}e.s(["useDirection",()=>s])},23910,e=>{"use strict";var t=e.i(95224),r=e.i(75135),s=t[" useId ".trim().toString()]||(()=>void 0),i=0;function a(e){let[a,n]=t.useState(s());return(0,r.useLayoutEffect)(()=>{e||n(e=>e??String(i++))},[e]),e||(a?`radix-${a}`:"")}e.s(["useId",()=>a])},71670,e=>{"use strict";let t=(0,e.i(97663).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],71670)},59387,e=>{"use strict";let t=(0,e.i(97663).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],59387)},14788,e=>{"use strict";var t=e.i(10255),r=e.i(95224),s=e.i(4897),i=e.i(55251),a=e.i(24407);let n=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.97] hover:scale-[1.02] [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 active:bg-destructive/95",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground active:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/80",link:"text-primary underline-offset-4 hover:underline active:text-primary/80",korean:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-accent hover:to-primary active:from-accent/90 active:to-primary/90 btn-korean"},size:{default:"h-12 px-6 py-3",sm:"h-10 px-5 py-2",lg:"h-14 px-10 py-4 text-base",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),l=r.forwardRef(({className:e,variant:r,size:i,asChild:l=!1,...d},o)=>{let c=l?s.Slot:"button";return(0,t.jsx)(c,{className:(0,a.cn)(n({variant:r,size:i,className:e})),ref:o,...d})});l.displayName="Button",e.s(["Button",()=>l])},46152,e=>{"use strict";var t=e.i(10255),r=e.i(95224),s=e.i(24407);let i=r.forwardRef(({className:e,type:r,error:i,...a},n)=>(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("input",{type:r,className:(0,s.cn)("flex h-11 w-full rounded-md border bg-background px-4 py-2.5 text-base ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","transition-colors duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",i?"border-destructive focus-visible:ring-destructive":"border-input focus-visible:ring-ring",e),ref:n,"aria-invalid":i?"true":"false",...a}),i&&"string"==typeof i&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-destructive",children:i})]}));i.displayName="Input",e.s(["Input",()=>i])},56432,e=>{"use strict";var t=e.i(10255),r=e.i(95224),s=e.i(50927),i=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var a=e.i(55251),n=e.i(24407);let l=(0,a.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)(i,{ref:s,className:(0,n.cn)(l(),e),...r}));d.displayName=i.displayName,e.s(["Label",()=>d],56432)},96699,e=>{"use strict";let t=(0,e.i(97663).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);e.s(["LogOut",()=>t],96699)},47999,e=>{"use strict";var t=e.i(10255),r=e.i(95224),s=e.i(51989),i=e.i(96699);let a=(0,e.i(97663).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var n=e.i(13229),l=e.i(14788),d=e.i(56432),o=e.i(46152),c=e.i(24407);let u=r.forwardRef(({className:e,error:r,...s},i)=>(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("textarea",{className:(0,c.cn)("flex min-h-[120px] w-full rounded-md border bg-background px-4 py-2.5 text-base ring-offset-background","placeholder:text-muted-foreground/70","transition-colors duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","resize-y",r?"border-destructive focus-visible:ring-destructive":"border-input focus-visible:ring-ring",e),ref:i,"aria-invalid":r?"true":"false",...s}),r&&"string"==typeof r&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-destructive",children:r})]}));u.displayName="Textarea";var m=e.i(48025),x=e.i(20170);function g(){let[e,c]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null),[p,h]=(0,r.useState)([]),[b,v]=(0,r.useState)(!1),{toast:j}=(0,x.useToast)(),[y,N]=(0,r.useState)({email:"",password:""}),[w,k]=(0,r.useState)({attendance_date:new Date().toISOString().split("T")[0],status:"absent-sick",notes:""});async function S(e){e.preventDefault(),v(!0);try{let{data:e,error:t}=await n.supabase.from("students").select("*").eq("email",y.email).eq("password",y.password).single();if(t||!e)return void j({title:"Fout",description:"Ongeldige inloggegevens",variant:"destructive"});f(e),c(!0),localStorage.setItem("student",JSON.stringify(e)),L(e.id),j({title:"Succes",description:"Welkom terug!"})}catch(e){console.error("Login error:",e),j({title:"Fout",description:"Er ging iets mis",variant:"destructive"})}finally{v(!1)}}async function L(e){try{let{data:t,error:r}=await n.supabase.from("attendance").select("*").eq("student_id",e).neq("status","present").order("attendance_date",{ascending:!1}).limit(10);if(r)throw r;h(t||[])}catch(e){console.error("Error loading absences:",e)}}async function C(e){if(e.preventDefault(),g){v(!0);try{let{error:e}=await n.supabase.from("attendance").insert([{student_id:g.id,...w}]);if(e)throw e;j({title:"Succes",description:"Ziekmelding verstuurd"}),k({attendance_date:new Date().toISOString().split("T")[0],status:"absent-sick",notes:""}),L(g.id)}catch(e){console.error("Error submitting absence:",e),j({title:"Fout",description:"Kon ziekmelding niet versturen",variant:"destructive"})}finally{v(!1)}}}return((0,r.useEffect)(()=>{let e=localStorage.getItem("student");if(e){let t=JSON.parse(e);f(t),c(!0),L(t.id)}},[]),e)?(0,t.jsxs)("div",{className:"min-h-screen bg-muted/30",children:[(0,t.jsx)("div",{className:"bg-background border-b border-border",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-12"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"font-bold text-lg",children:g?.name}),(0,t.jsx)("p",{className:"text-sm text-foreground/60",children:g?.email})]})]}),(0,t.jsxs)(l.Button,{variant:"outline",onClick:function(){c(!1),f(null),h([]),localStorage.removeItem("student"),j({title:"Uitgelogd",description:"Tot ziens!"})},children:[(0,t.jsx)(i.LogOut,{className:"w-4 h-4 mr-2"}),"Uitloggen"]})]})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,t.jsxs)("div",{className:"grid gap-6",children:[(0,t.jsxs)("div",{className:"bg-background rounded-xl border border-border p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Ziekmelding Indienen"}),(0,t.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Datum"}),(0,t.jsx)(o.Input,{type:"date",value:w.attendance_date,onChange:e=>k({...w,attendance_date:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Reden"}),(0,t.jsxs)(m.Select,{value:w.status,onValueChange:e=>k({...w,status:e}),children:[(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{})}),(0,t.jsxs)(m.SelectContent,{children:[(0,t.jsx)(m.SelectItem,{value:"absent-sick",children:"Ziek"}),(0,t.jsx)(m.SelectItem,{value:"absent-vacation",children:"Vakantie"}),(0,t.jsx)(m.SelectItem,{value:"absent-other",children:"Anders"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Notitie (optioneel)"}),(0,t.jsx)(u,{value:w.notes,onChange:e=>k({...w,notes:e.target.value}),placeholder:"Extra informatie over je afwezigheid...",rows:3})]}),(0,t.jsx)(l.Button,{type:"submit",disabled:b,children:b?"Bezig...":"Ziekmelding Versturen"})]})]}),(0,t.jsxs)("div",{className:"bg-background rounded-xl border border-border p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Mijn Ziekmeldingen"}),0===p.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(a,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-foreground/60",children:"Geen ziekmeldingen"})]}):(0,t.jsx)("div",{className:"space-y-3",children:p.map(e=>(0,t.jsxs)("div",{className:"p-4 rounded-lg border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Calendar,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("span",{className:"font-medium",children:new Date(e.attendance_date).toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),(0,t.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded",children:["absent-sick"===e.status&&"Ziek","absent-vacation"===e.status&&"Vakantie","absent-other"===e.status&&"Anders"]})]}),e.notes&&(0,t.jsx)("p",{className:"text-sm text-foreground/70 mt-2",children:e.notes})]},e.id))})]}),(0,t.jsxs)("div",{className:"bg-background rounded-xl border border-border p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Mijn Gegevens"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-foreground/60",children:"Programma"}),(0,t.jsxs)("p",{className:"font-medium",children:[g?.program==="little-tigers"&&"Kleine Tijgers",g?.program==="youth"&&"Jeugd",g?.program==="women"&&"Vrouwen",g?.program==="adult"&&"Volwassenen"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-foreground/60",children:"Band"}),(0,t.jsx)("p",{className:"font-medium",children:g?.belt})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-foreground/60",children:"Locatie"}),(0,t.jsx)("p",{className:"font-medium",children:g?.location})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-foreground/60",children:"Lid sinds"}),(0,t.jsx)("p",{className:"font-medium",children:g?.join_date&&new Date(g.join_date).toLocaleDateString("nl-NL")})]})]})]})]})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"bg-background rounded-xl border border-border p-8 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-16 mx-auto mb-4"}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Leerling Portal"}),(0,t.jsx)("p",{className:"text-foreground/60 mt-2",children:"Log in om je ziek te melden"})]}),(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Email"}),(0,t.jsx)(o.Input,{type:"email",value:y.email,onChange:e=>N({...y,email:e.target.value}),placeholder:"jouw@email.nl",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Wachtwoord"}),(0,t.jsx)(o.Input,{type:"password",value:y.password,onChange:e=>N({...y,password:e.target.value}),placeholder:"••••••••",required:!0})]}),(0,t.jsx)(l.Button,{type:"submit",className:"w-full",disabled:b,children:b?"Bezig...":"Inloggen"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("a",{href:"/",className:"text-sm text-primary hover:underline",children:"Terug naar website"})})]})})}e.s(["default",()=>g],47999)}]);