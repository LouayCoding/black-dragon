module.exports=[43600,a=>{"use strict";let b=(0,a.i(703).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],43600)},67465,a=>{"use strict";var b=a.i(82626);a.i(34084);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},8281,a=>{"use strict";var b=a.i(82626),c=a.i(20782),d=b[" useId ".trim().toString()]||(()=>void 0),e=0;function f(a){let[f,g]=b.useState(d());return(0,c.useLayoutEffect)(()=>{a||g(a=>a??String(e++))},[a]),a||(f?`radix-${f}`:"")}a.s(["useId",()=>f])},69672,a=>{"use strict";let b=(0,a.i(703).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],69672)},17992,a=>{"use strict";let b=(0,a.i(703).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],17992)},82251,a=>{"use strict";var b=a.i(34084),c=a.i(82626),d=a.i(10695),e=a.i(58987),f=a.i(55741);let g=(0,e.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.97] hover:scale-[1.02] [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/95",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 active:bg-destructive/95",outline:"border-2 border-primary bg-transparent text-primary hover:bg-primary hover:text-primary-foreground active:bg-primary/90",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:bg-secondary/90",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/80",link:"text-primary underline-offset-4 hover:underline active:text-primary/80",korean:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:from-accent hover:to-primary active:from-accent/90 active:to-primary/90 btn-korean"},size:{default:"h-12 px-6 py-3",sm:"h-10 px-5 py-2",lg:"h-14 px-10 py-4 text-base",icon:"h-12 w-12"}},defaultVariants:{variant:"default",size:"default"}}),h=c.forwardRef(({className:a,variant:c,size:e,asChild:h=!1,...i},j)=>{let k=h?d.Slot:"button";return(0,b.jsx)(k,{className:(0,f.cn)(g({variant:c,size:e,className:a})),ref:j,...i})});h.displayName="Button",a.s(["Button",()=>h])},17942,a=>{"use strict";var b=a.i(34084),c=a.i(82626),d=a.i(55741);let e=c.forwardRef(({className:a,type:c,error:e,...f},g)=>(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-11 w-full rounded-md border bg-background px-4 py-2.5 text-base ring-offset-background","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground","placeholder:text-muted-foreground/70","transition-colors duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50",e?"border-destructive focus-visible:ring-destructive":"border-input focus-visible:ring-ring",a),ref:g,"aria-invalid":e?"true":"false",...f}),e&&"string"==typeof e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-destructive",children:e})]}));e.displayName="Input",a.s(["Input",()=>e])},40669,a=>{"use strict";var b=a.i(34084),c=a.i(82626),d=a.i(15731),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(58987),g=a.i(55741);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],40669)},44814,a=>{"use strict";let b=(0,a.i(703).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);a.s(["LogOut",()=>b],44814)},78418,a=>{"use strict";var b=a.i(34084),c=a.i(82626),d=a.i(43600),e=a.i(44814);let f=(0,a.i(703).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var g=a.i(40822),h=a.i(82251),i=a.i(40669),j=a.i(17942),k=a.i(55741);let l=c.forwardRef(({className:a,error:c,...d},e)=>(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("textarea",{className:(0,k.cn)("flex min-h-[120px] w-full rounded-md border bg-background px-4 py-2.5 text-base ring-offset-background","placeholder:text-muted-foreground/70","transition-colors duration-200","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","resize-y",c?"border-destructive focus-visible:ring-destructive":"border-input focus-visible:ring-ring",a),ref:e,"aria-invalid":c?"true":"false",...d}),c&&"string"==typeof c&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-destructive",children:c})]}));l.displayName="Textarea";var m=a.i(7257),n=a.i(50228);function o(){let[a,k]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!1),{toast:u}=(0,n.useToast)(),[v,w]=(0,c.useState)({email:"",password:""}),[x,y]=(0,c.useState)({attendance_date:new Date().toISOString().split("T")[0],status:"absent-sick",notes:""});async function z(a){a.preventDefault(),t(!0);try{let{data:a,error:b}=await g.supabase.from("students").select("*").eq("email",v.email).eq("password",v.password).single();if(b||!a)return void u({title:"Fout",description:"Ongeldige inloggegevens",variant:"destructive"});p(a),k(!0),localStorage.setItem("student",JSON.stringify(a)),A(a.id),u({title:"Succes",description:"Welkom terug!"})}catch(a){console.error("Login error:",a),u({title:"Fout",description:"Er ging iets mis",variant:"destructive"})}finally{t(!1)}}async function A(a){try{let{data:b,error:c}=await g.supabase.from("attendance").select("*").eq("student_id",a).neq("status","present").order("attendance_date",{ascending:!1}).limit(10);if(c)throw c;r(b||[])}catch(a){console.error("Error loading absences:",a)}}async function B(a){if(a.preventDefault(),o){t(!0);try{let{error:a}=await g.supabase.from("attendance").insert([{student_id:o.id,...x}]);if(a)throw a;u({title:"Succes",description:"Ziekmelding verstuurd"}),y({attendance_date:new Date().toISOString().split("T")[0],status:"absent-sick",notes:""}),A(o.id)}catch(a){console.error("Error submitting absence:",a),u({title:"Fout",description:"Kon ziekmelding niet versturen",variant:"destructive"})}finally{t(!1)}}}return((0,c.useEffect)(()=>{let a=localStorage.getItem("student");if(a){let b=JSON.parse(a);p(b),k(!0),A(b.id)}},[]),a)?(0,b.jsxs)("div",{className:"min-h-screen bg-muted/30",children:[(0,b.jsx)("div",{className:"bg-background border-b border-border",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-12"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"font-bold text-lg",children:o?.name}),(0,b.jsx)("p",{className:"text-sm text-foreground/60",children:o?.email})]})]}),(0,b.jsxs)(h.Button,{variant:"outline",onClick:function(){k(!1),p(null),r([]),localStorage.removeItem("student"),u({title:"Uitgelogd",description:"Tot ziens!"})},children:[(0,b.jsx)(e.LogOut,{className:"w-4 h-4 mr-2"}),"Uitloggen"]})]})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:(0,b.jsxs)("div",{className:"grid gap-6",children:[(0,b.jsxs)("div",{className:"bg-background rounded-xl border border-border p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Ziekmelding Indienen"}),(0,b.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{children:"Datum"}),(0,b.jsx)(j.Input,{type:"date",value:x.attendance_date,onChange:a=>y({...x,attendance_date:a.target.value}),required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{children:"Reden"}),(0,b.jsxs)(m.Select,{value:x.status,onValueChange:a=>y({...x,status:a}),children:[(0,b.jsx)(m.SelectTrigger,{children:(0,b.jsx)(m.SelectValue,{})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"absent-sick",children:"Ziek"}),(0,b.jsx)(m.SelectItem,{value:"absent-vacation",children:"Vakantie"}),(0,b.jsx)(m.SelectItem,{value:"absent-other",children:"Anders"})]})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{children:"Notitie (optioneel)"}),(0,b.jsx)(l,{value:x.notes,onChange:a=>y({...x,notes:a.target.value}),placeholder:"Extra informatie over je afwezigheid...",rows:3})]}),(0,b.jsx)(h.Button,{type:"submit",disabled:s,children:s?"Bezig...":"Ziekmelding Versturen"})]})]}),(0,b.jsxs)("div",{className:"bg-background rounded-xl border border-border p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Mijn Ziekmeldingen"}),0===q.length?(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(f,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),(0,b.jsx)("p",{className:"text-foreground/60",children:"Geen ziekmeldingen"})]}):(0,b.jsx)("div",{className:"space-y-3",children:q.map(a=>(0,b.jsxs)("div",{className:"p-4 rounded-lg border border-border",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Calendar,{className:"w-4 h-4 text-primary"}),(0,b.jsx)("span",{className:"font-medium",children:new Date(a.attendance_date).toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]}),(0,b.jsxs)("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded",children:["absent-sick"===a.status&&"Ziek","absent-vacation"===a.status&&"Vakantie","absent-other"===a.status&&"Anders"]})]}),a.notes&&(0,b.jsx)("p",{className:"text-sm text-foreground/70 mt-2",children:a.notes})]},a.id))})]}),(0,b.jsxs)("div",{className:"bg-background rounded-xl border border-border p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Mijn Gegevens"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-foreground/60",children:"Programma"}),(0,b.jsxs)("p",{className:"font-medium",children:[o?.program==="little-tigers"&&"Kleine Tijgers",o?.program==="youth"&&"Jeugd",o?.program==="women"&&"Vrouwen",o?.program==="adult"&&"Volwassenen"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-foreground/60",children:"Band"}),(0,b.jsx)("p",{className:"font-medium",children:o?.belt})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-foreground/60",children:"Locatie"}),(0,b.jsx)("p",{className:"font-medium",children:o?.location})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-foreground/60",children:"Lid sinds"}),(0,b.jsx)("p",{className:"font-medium",children:o?.join_date&&new Date(o.join_date).toLocaleDateString("nl-NL")})]})]})]})]})})]}):(0,b.jsx)("div",{className:"min-h-screen bg-muted/30 flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"bg-background rounded-xl border border-border p-8 w-full max-w-md",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-16 mx-auto mb-4"}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Leerling Portal"}),(0,b.jsx)("p",{className:"text-foreground/60 mt-2",children:"Log in om je ziek te melden"})]}),(0,b.jsxs)("form",{onSubmit:z,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{children:"Email"}),(0,b.jsx)(j.Input,{type:"email",value:v.email,onChange:a=>w({...v,email:a.target.value}),placeholder:"jouw@email.nl",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{children:"Wachtwoord"}),(0,b.jsx)(j.Input,{type:"password",value:v.password,onChange:a=>w({...v,password:a.target.value}),placeholder:"••••••••",required:!0})]}),(0,b.jsx)(h.Button,{type:"submit",className:"w-full",disabled:s,children:s?"Bezig...":"Inloggen"})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsx)("a",{href:"/",className:"text-sm text-primary hover:underline",children:"Terug naar website"})})]})})}a.s(["default",()=>o],78418)}];

//# sourceMappingURL=Documents_s_black-dragon_ff9fe04d._.js.map