module.exports=[67465,a=>{"use strict";var b=a.i(82626);a.i(34084);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},8281,a=>{"use strict";var b=a.i(82626),c=a.i(20782),d=b[" useId ".trim().toString()]||(()=>void 0),e=0;function f(a){let[f,g]=b.useState(d());return(0,c.useLayoutEffect)(()=>{a||g(a=>a??String(e++))},[a]),a||(f?`radix-${f}`:"")}a.s(["useId",()=>f])},69672,a=>{"use strict";let b=(0,a.i(703).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],69672)},17992,a=>{"use strict";let b=(0,a.i(703).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],17992)},93696,a=>{"use strict";var b=a.i(34084),c=a.i(82626),d=a.i(43600),e=a.i(703);let f=(0,e.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),g=(0,e.default)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var h=a.i(40822),i=a.i(50228),j=a.i(7257);function k(){let[a,e]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)("all"),{toast:o}=(0,i.useToast)();async function p(){try{let a=h.supabase.from("attendance").select("*, student:students(*)").neq("status","present").order("attendance_date",{ascending:!1});if("sick"===m)a=a.eq("status","absent-sick");else if("recent"===m){let b=new Date;b.setDate(b.getDate()-7),a=a.gte("attendance_date",b.toISOString().split("T")[0])}let{data:b,error:c}=await a;if(c)throw c;e(b||[])}catch(a){console.error("Error loading absences:",a),o({title:"Fout",description:"Kon ziekmeldingen niet laden",variant:"destructive"})}finally{l(!1)}}return((0,c.useEffect)(()=>{p()},[m]),k)?(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):(0,b.jsxs)("div",{className:"space-y-6 w-full",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Ziekmeldingen"}),(0,b.jsxs)("p",{className:"text-foreground/60 mt-2",children:[a.length," afwezigheden geregistreerd"]})]}),(0,b.jsxs)(j.Select,{value:m,onValueChange:n,children:[(0,b.jsx)(j.SelectTrigger,{className:"w-48",children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"all",children:"Alle afwezigheden"}),(0,b.jsx)(j.SelectItem,{value:"sick",children:"Alleen ziek"}),(0,b.jsx)(j.SelectItem,{value:"recent",children:"Laatste 7 dagen"})]})]})]}),(0,b.jsx)("div",{className:"grid gap-4",children:0===a.length?(0,b.jsx)("div",{className:"bg-background rounded-xl border border-border p-12 text-center",children:(0,b.jsx)("p",{className:"text-foreground/60",children:"Geen afwezigheden gevonden"})}):a.map(a=>{var c;return(0,b.jsx)("div",{className:"bg-background rounded-xl border border-border p-6 hover:shadow-md transition-shadow",children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f,{className:"w-5 h-5 text-primary"}),(0,b.jsx)("span",{className:"font-bold text-lg",children:a.student?.name||"Onbekend"})]}),(0,b.jsx)("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${{"absent-sick":"bg-red-100 text-red-800","absent-vacation":"bg-blue-100 text-blue-800","absent-unauthorized":"bg-orange-100 text-orange-800","absent-other":"bg-gray-100 text-gray-800"}[a.status]||"bg-gray-100 text-gray-800"}`,children:{"absent-sick":"Ziek","absent-vacation":"Vakantie","absent-unauthorized":"Ongeoorloofd","absent-other":"Anders"}[c=a.status]||c})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-foreground/70",children:[(0,b.jsx)(d.Calendar,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:new Date(a.attendance_date).toLocaleDateString("nl-NL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),a.student&&(0,b.jsxs)("div",{className:"text-foreground/70",children:[(0,b.jsx)("span",{className:"font-medium",children:"Programma:"})," ","little-tigers"===a.student.program&&"Kleine Tijgers","youth"===a.student.program&&"Jeugd","women"===a.student.program&&"Vrouwen","adult"===a.student.program&&"Volwassenen"]})]}),a.notes&&(0,b.jsx)("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-start gap-2",children:[(0,b.jsx)(g,{className:"w-4 h-4 text-foreground/60 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm text-foreground/70",children:a.notes})]})})]})})},a.id)})})]})}a.s(["default",()=>k],93696)}];

//# sourceMappingURL=Documents_s_black-dragon_b6cbb443._.js.map